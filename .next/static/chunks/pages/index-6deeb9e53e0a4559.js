(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8581:function(n,r,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return e(3678)}])},5483:function(n,r,e){"use strict";e.d(r,{Z:function(){return j}});var t=e(4051),i=e.n(t),o=e(5893),c=e(5684),u=e(5193),a=e(8527),l=e(9876),s=e(7263),f=e(6680),d=e(3349),h=e(6677),p=e(1294),v=e(1163);function m(n,r){(null==r||r>n.length)&&(r=n.length);for(var e=0,t=new Array(r);e<r;e++)t[e]=n[e];return t}function x(n,r,e,t,i,o,c){try{var u=n[o](c),a=u.value}catch(l){return void e(l)}u.done?r(a):Promise.resolve(a).then(t,i)}function y(n,r,e){return r in n?Object.defineProperty(n,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[r]=e,n}function b(n,r){return function(n){if(Array.isArray(n))return n}(n)||function(n,r){var e=null==n?null:"undefined"!==typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=e){var t,i,o=[],c=!0,u=!1;try{for(e=e.call(n);!(c=(t=e.next()).done)&&(o.push(t.value),!r||o.length!==r);c=!0);}catch(a){u=!0,i=a}finally{try{c||null==e.return||e.return()}finally{if(u)throw i}}return o}}(n,r)||function(n,r){if(!n)return;if("string"===typeof n)return m(n,r);var e=Object.prototype.toString.call(n).slice(8,-1);"Object"===e&&n.constructor&&(e=n.constructor.name);if("Map"===e||"Set"===e)return Array.from(e);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return m(n,r)}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(){var n=b((0,d.F_)(f.I),1)[0],r=b((0,h.Kx)((0,p.hJ)(f.db,"chats")),3),e=r[0],t=(r[1],r[2],null===e||void 0===e?void 0:e.docs.map((function(n){return function(n){for(var r=1;r<arguments.length;r++){var e=null!=arguments[r]?arguments[r]:{},t=Object.keys(e);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(e).filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})))),t.forEach((function(r){y(n,r,e[r])}))}return n}({id:n.id},n.data())}))),m=(0,v.useRouter)(),j=function(r){null===t||void 0===t||t.find((function(e){return e.users.includes(n.email)&&e.users.includes(r)}))},w=function(){var r,e=(r=i().mark((function r(){var e;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e=prompt("Enter email of chat recipient"),j(e)||e==n.email){r.next=4;break}return r.next=4,(0,p.ET)((0,p.hJ)(f.db,"chats"),{users:[n.email,e]});case 4:case"end":return r.stop()}}),r)})),function(){var n=this,e=arguments;return new Promise((function(t,i){var o=r.apply(n,e);function c(n){x(o,t,i,c,u,"next",n)}function u(n){x(o,t,i,c,u,"throw",n)}c(void 0)}))});return function(){return e.apply(this,arguments)}}();return(0,o.jsxs)(a.kC,{h:"100%",w:"300px",borderEnd:"1px solid",borderColor:"gray.200",direction:"column",children:[(0,o.jsxs)(a.kC,{h:"81px",w:"100%",align:"center",justifyContent:"space-between",borderBottom:"1px solid",borderColor:"gray.200",p:3,children:[(0,o.jsxs)(a.kC,{align:"center",children:[(0,o.jsx)(c.qE,{src:n.photoURL,marginEnd:3}),(0,o.jsx)(a.xv,{children:n.displayName})]}),(0,o.jsx)(u.hU,{size:"sm",isRound:!0,icon:(0,o.jsx)(l.Y4,{}),onClick:function(){return(0,s.w7)(f.I)}})]}),(0,o.jsx)(u.zx,{m:5,p:4,onClick:function(){return w()},children:"New Chat"}),(0,o.jsx)(a.kC,{overflowX:"scroll",direction:"column",sx:{scrollbarWidth:"none"},flex:1,children:null===t||void 0===t?void 0:t.filter((function(r){return r.users.includes(n.email)})).map((function(r){return(0,o.jsxs)(a.kC,{p:3,align:"center",_hover:{bg:"gray.100",cursor:"pointer"},onClick:function(){return n=r.id,void m.push("/chat/".concat(n));var n},children:[(0,o.jsx)(c.qE,{src:"",marginEnd:3}),(0,o.jsx)(a.xv,{children:n.displayName})]},Math.random())}))})]})}},3678:function(n,r,e){"use strict";e.r(r),e.d(r,{default:function(){return u}});var t=e(5893),i=e(8527),o=e(9008),c=e(5483);function u(){return(0,t.jsxs)("div",{children:[(0,t.jsxs)(o.default,{children:[(0,t.jsx)("title",{children:"Chat App"}),(0,t.jsx)("meta",{name:"description",content:"Generated by create next app"}),(0,t.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,t.jsx)(i.xu,{h:"100vh",children:(0,t.jsx)(c.Z,{})})]})}}},function(n){n.O(0,[159,774,888,179],(function(){return r=8581,n(n.s=r);var r}));var r=n.O();_N_E=r}]);